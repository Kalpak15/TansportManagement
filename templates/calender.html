<!--corrected-1-->
<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Date Picker and Calendar Example</title>-->
<!--    &lt;!&ndash; Bootstrap CSS &ndash;&gt;-->
<!--    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">-->
<!--    &lt;!&ndash; jQuery &ndash;&gt;-->
<!--    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>-->
<!--    &lt;!&ndash; Bootstrap JS &ndash;&gt;-->
<!--    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>-->
<!--    &lt;!&ndash; Bootstrap Datepickera CSS &ndash;&gt;-->
<!--    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">-->
<!--    &lt;!&ndash; Bootstrap Datepicker JS &ndash;&gt;-->
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>-->
<!--    &lt;!&ndash; FullCalendar CSS &ndash;&gt;-->
<!--    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css" rel="stylesheet">-->
<!--    &lt;!&ndash; FullCalendar JS &ndash;&gt;-->
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>-->
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js"></script>-->
<!--</head>-->
<!--<body>-->
<!--<div class="container mt-5">-->
<!--    <div class="row">-->
<!--        <div class="col-md-4">-->
<!--            <label for="fromDate">From:</label>-->
<!--            <div class="input-group date" id="fromDate">-->
<!--                <input type="text" class="form-control"/>-->
<!--                <span class="input-group-append">-->
<!--                    <span class="input-group-text bg-light d-block">-->
<!--                        <i class="fa fa-calendar"></i>-->
<!--                    </span>-->
<!--                </span>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="col-md-4">-->
<!--            <label for="toDate">To:</label>-->
<!--            <div class="input-group date" id="toDate">-->
<!--                <input type="text" class="form-control"/>-->
<!--                <span class="input-group-append">-->
<!--                    <span class="input-group-text bg-light d-block">-->
<!--                        <i class="fa fa-calendar"></i>-->
<!--                    </span>-->
<!--                </span>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; Add form to submit the selected dates &ndash;&gt;-->
<!--  &lt;!&ndash; calender.html &ndash;&gt;-->
<!--&lt;!&ndash; calender.html &ndash;&gt;-->
<!--&lt;!&ndash; calender.html &ndash;&gt;-->


<!--&lt;!&ndash;    //correct -1&ndash;&gt;-->
<!--&lt;!&ndash;<h2>Confirm Your Booking</h2>&ndash;&gt;-->
<!--&lt;!&ndash;<p>Car ID: {{ request.args.get('car_id') }}</p>&ndash;&gt;-->
<!--&lt;!&ndash;<p>From Date: {{ request.args.get('from_date', 'Not set') }}</p>&ndash;&gt;-->
<!--&lt;!&ndash;<p>To Date: {{ request.args.get('to_date', 'Not set') }}</p>&ndash;&gt;-->
<!--&lt;!&ndash;<form action="/confirm_booking" method="POST">&ndash;&gt;-->
<!--&lt;!&ndash;    <input type="hidden" name="car_id" value="{{ request.args.get('car_id') }}">&ndash;&gt;-->
<!--&lt;!&ndash;    <input type="hidden" name="from_date" value="{{ request.args.get('from_date') }}">&ndash;&gt;-->
<!--&lt;!&ndash;    <input type="hidden" name="to_date" value="{{ request.args.get('to_date') }}">&ndash;&gt;-->
<!--&lt;!&ndash;    <button type="submit">Confirm Booking</button>&ndash;&gt;-->
<!--&lt;!&ndash;</form>&ndash;&gt;-->



<!--    <form method="POST" action="{{ url_for('confirm_booking') }}">-->
<!--        <input type="hidden" name="car_id" value="{{ car_id }}"> &lt;!&ndash; Hidden field for car_id &ndash;&gt;-->
<!--        <label for="from_date">From Date:</label>-->
<!--        <input type="date" name="from_date" required>-->

<!--        <label for="to_date">To Date:</label>-->
<!--        <input type="date" name="to_date" required>-->

<!--        <button type="submit">Confirm Booking</button>-->
<!--    </form>-->



<!--    <div class="row mt-5">-->
<!--        <div class="col-md-12">-->
<!--            <div id="calendar"></div>-->
<!--        </div>-->
<!--    </div>-->
<!--&lt;!&ndash;    <div class="row mt-5">&ndash;&gt;-->
<!--&lt;!&ndash;        <div class="col-md-6">&ndash;&gt;-->
<!--&lt;!&ndash;            <h5>Selected From Date: <span id="selectedFromDate"></span></h5>&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->
<!--&lt;!&ndash;        <div class="col-md-6">&ndash;&gt;-->
<!--&lt;!&ndash;            <h5>Selected To Date: <span id="selectedToDate"></span></h5>&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->
<!--    <div class="row mt-5">-->
<!--    <div class="col-md-12">-->
<!--        {% if message %}-->
<!--        <div class="alert alert-success">-->
<!--            {{ message }}-->
<!--        </div>-->
<!--        {% endif %}-->
<!--    </div>-->
<!--</div>-->


<!--</div>-->
<!--<script>-->
<!--    $(document).ready(function () {-->
<!--        $('#fromDate').datepicker({-->
<!--            format: 'mm/dd/yyyy',-->
<!--            todayHighlight: true,-->
<!--            autoclose: true-->
<!--        }).on('changeDate', function (selected) {-->
<!--            var minDate = new Date(selected.date.valueOf());-->
<!--            $('#toDate').datepicker('setStartDate', minDate);-->
<!--            $('#selectedFromDate').text($('#fromDate input').val());-->
<!--        });-->

<!--        $('#toDate').datepicker({-->
<!--            format: 'mm/dd/yyyy',-->
<!--            todayHighlight: true,-->
<!--            autoclose: true-->
<!--        }).on('changeDate', function (selected) {-->
<!--            var maxDate = new Date(selected.date.valueOf());-->
<!--            $('#fromDate').datepicker('setEndDate', maxDate);-->
<!--            $('#selectedToDate').text($('#toDate input').val());-->
<!--        });-->

<!--        $('#calendar').fullCalendar({-->
<!--            header: {-->
<!--                left: 'prev,next today',-->
<!--                center: 'title',-->
<!--                right: 'month,agendaWeek,agendaDay'-->
<!--            },-->
<!--            editable: true,-->
<!--            selectable: true,-->
<!--            selectHelper: true,-->
<!--            select: function(start, end) {-->
<!--                var startDate = moment(start).format('MM/DD/YYYY');-->
<!--                var endDate = moment(end).subtract(1, 'days').format('MM/DD/YYYY');-->

<!--                $('#fromDate input').val(startDate);-->
<!--                $('#toDate input').val(endDate);-->

<!--                $('#hiddenFromDate').val(startDate); // Set hidden field value-->
<!--                $('#hiddenToDate').val(endDate); // Set hidden field value-->

<!--                $('#fromDate').datepicker('update', startDate);-->
<!--                $('#toDate').datepicker('update', endDate);-->

<!--                $('#selectedFromDate').text(startDate);-->
<!--                $('#selectedToDate').text(endDate);-->
<!--            },-->
<!--            events: [-->
<!--                {-->
<!--                    title: 'Event 1',-->
<!--                    start: '2024-08-01'-->
<!--                },-->
<!--                {-->
<!--                    title: 'Event 2',-->
<!--                    start: '2024-08-07',-->
<!--                    end: '2024-08-10'-->
<!--                }-->
<!--                // Add more events here-->
<!--            ]-->
<!--        });-->
<!--    });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->



<!--correted-2-->
<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Date Picker and Calendar Example</title>-->
<!--    &lt;!&ndash; Bootstrap CSS &ndash;&gt;-->
<!--    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">-->
<!--    &lt;!&ndash; jQuery &ndash;&gt;-->
<!--    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>-->
<!--    &lt;!&ndash; Bootstrap JS &ndash;&gt;-->
<!--    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>-->
<!--    &lt;!&ndash; Bootstrap Datepicker CSS &ndash;&gt;-->
<!--    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">-->
<!--    &lt;!&ndash; Bootstrap Datepicker JS &ndash;&gt;-->
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>-->
<!--    &lt;!&ndash; FullCalendar CSS &ndash;&gt;-->
<!--    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css" rel="stylesheet">-->
<!--    &lt;!&ndash; FullCalendar JS &ndash;&gt;-->
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>-->
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js"></script>-->
<!--</head>-->
<!--<body>-->
<!--<div class="container mt-5">-->
<!--    <div class="row">-->
<!--        <div class="col-md-4">-->
<!--            <label for="fromDate">From:</label>-->
<!--            <div class="input-group date" id="fromDate">-->
<!--                <input type="text" class="form-control"/>-->
<!--                <span class="input-group-append">-->
<!--                    <span class="input-group-text bg-light d-block">-->
<!--                        <i class="fa fa-calendar"></i>-->
<!--                    </span>-->
<!--                </span>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="col-md-4">-->
<!--            <label for="toDate">To:</label>-->
<!--            <div class="input-group date" id="toDate">-->
<!--                <input type="text" class="form-control"/>-->
<!--                <span class="input-group-append">-->
<!--                    <span class="input-group-text bg-light d-block">-->
<!--                        <i class="fa fa-calendar"></i>-->
<!--                    </span>-->
<!--                </span>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    <form method="POST" action="{{ url_for('confirm_booking') }}">-->
<!--        <input type="hidden" name="car_id" value="{{ car_id }}"> &lt;!&ndash; Hidden field for car_id &ndash;&gt;-->
<!--        <label for="from_date">From Date:</label>-->
<!--        <input type="date" name="from_date" required>-->

<!--        <label for="to_date">To Date:</label>-->
<!--        <input type="date" name="to_date" required>-->

<!--        <button type="submit">Confirm Booking</button>-->
<!--    </form>-->

<!--    <div class="row mt-5">-->
<!--        <div class="col-md-12">-->
<!--            <div id="calendar"></div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--<script>-->
<!--    $(document).ready(function () {-->
<!--        $('#fromDate').datepicker({-->
<!--            format: 'mm/dd/yyyy',-->
<!--            todayHighlight: true,-->
<!--            autoclose: true-->
<!--        }).on('changeDate', function (selected) {-->
<!--            var minDate = new Date(selected.date.valueOf());-->
<!--            $('#toDate').datepicker('setStartDate', minDate);-->
<!--        });-->

<!--        $('#toDate').datepicker({-->
<!--            format: 'mm/dd/yyyy',-->
<!--            todayHighlight: true,-->
<!--            autoclose: true-->
<!--        }).on('changeDate', function (selected) {-->
<!--            var maxDate = new Date(selected.date.valueOf());-->
<!--            $('#fromDate').datepicker('setEndDate', maxDate);-->
<!--        });-->

<!--        // Initialize FullCalendar-->
<!--        $('#calendar').fullCalendar({-->
<!--            header: {-->
<!--                left: 'prev,next today',-->
<!--                center: 'title',-->
<!--                right: 'month,agendaWeek,agendaDay'-->
<!--            },-->
<!--            selectable: true, // Enable date selection-->
<!--            selectHelper: true,-->
<!--            editable: true,-->

<!--            // Function to handle date range selection-->
<!--            select: function(start, end) {-->
<!--                var startDate = moment(start).format('YYYY-MM-DD');-->
<!--                var endDate = moment(end).subtract(1, 'days').format('YYYY-MM-DD');-->

<!--                // Update date inputs-->
<!--                $('#fromDate input').val(startDate);-->
<!--                $('#toDate input').val(endDate);-->

<!--                // Add the selected range as an event to the calendar-->
<!--                $('#calendar').fullCalendar('renderEvent', {-->
<!--                    title: 'Selected Range',-->
<!--                    start: startDate,-->
<!--                    end: moment(endDate).add(1, 'days').format('YYYY-MM-DD'), // FullCalendar's end date is exclusive, so add one day-->
<!--                    backgroundColor: '#FFDDC1', // Highlight color-->
<!--                    allDay: true-->
<!--                });-->

<!--                // Clear the selection (optional)-->
<!--                $('#calendar').fullCalendar('unselect');-->
<!--            },-->
<!--            events: [-->
<!--                // Example events-->
<!--                {-->
<!--                    title: 'Event 1',-->
<!--                    start: '2024-08-01'-->
<!--                },-->
<!--                {-->
<!--                    title: 'Event 2',-->
<!--                    start: '2024-08-07',-->
<!--                    end: '2024-08-10'-->
<!--                }-->
<!--            ]-->
<!--        });-->
<!--    });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Date Picker and Calendar Example</title>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
    <!-- Bootstrap Datepicker CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <!-- Bootstrap Datepicker JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <!-- FullCalendar CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css" rel="stylesheet">
    <!-- FullCalendar JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js"></script>
</head>
<body>
<div class="container mt-5">
    <div class="row">
        <div class="col-md-4">
            <label for="fromDate">From:</label>
            <div class="input-group date" id="fromDate">
                <input type="text" class="form-control"/>
                <span class="input-group-append">
                    <span class="input-group-text bg-light d-block">
                        <i class="fa fa-calendar"></i>
                    </span>
                </span>
            </div>
        </div>
        <div class="col-md-4">
            <label for="toDate">To:</label>
            <div class="input-group date" id="toDate">
                <input type="text" class="form-control"/>
                <span class="input-group-append">
                    <span class="input-group-text bg-light d-block">
                        <i class="fa fa-calendar"></i>
                    </span>
                </span>
            </div>
        </div>
    </div>

    <form method="POST" action="{{ url_for('confirm_booking') }}">
        <input type="hidden" name="car_id" value="{{ car_id }}"> <!-- Hidden field for car_id -->

        <input type="hidden" name="driver_id" value="{{ driver_id }}">
        <label for="from_date">From Date:</label>
        <input type="date" name="from_date" required>

        <label for="to_date">To Date:</label>
        <input type="date" name="to_date" required>

        <button type="submit">Confirm Booking</button>
    </form>

    <div class="row mt-5">
        <div class="col-md-12">
            <div id="calendar"></div>
        </div>
    </div>

    <div class="row mt-5">
        <div class="col-md-12">
            {% if message %}
            <div class="alert alert-success">
                {{ message }}
            </div>
            {% endif %}
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('#fromDate').datepicker({
            format: 'mm/dd/yyyy',
            todayHighlight: true,
            autoclose: true
        }).on('changeDate', function (selected) {
            var minDate = new Date(selected.date.valueOf());
            $('#toDate').datepicker('setStartDate', minDate);
        });

        $('#toDate').datepicker({
            format: 'mm/dd/yyyy',
            todayHighlight: true,
            autoclose: true
        });

        // Initialize FullCalendar
        $('#calendar').fullCalendar({
            header: {
                left: 'prev,next today',
                center: 'title',
                right: 'month,agendaWeek,agendaDay'
            },
            editable: false,
            selectable: true,
            selectHelper: true,
            events: [],  // Initial empty events
        });

        // Add the event (color the selected range) after selecting both dates
        $('#fromDate').on('changeDate', function () {
            colorSelectedDates();
        });

        $('#toDate').on('changeDate', function () {
            colorSelectedDates();
        });

        function colorSelectedDates() {
            // Get the selected dates from input
            var fromDate = $('#fromDate input').val();
            var toDate = $('#toDate input').val();

            if (fromDate && toDate) {
                // Remove previous event(s) to avoid duplication
                $('#calendar').fullCalendar('removeEvents');

                // Add the new event to FullCalendar
                $('#calendar').fullCalendar('renderEvent', {
                    title: 'Booked',
                    start: moment(fromDate, 'MM/DD/YYYY').format('YYYY-MM-DD'),
                    end: moment(toDate, 'MM/DD/YYYY').add(1, 'days').format('YYYY-MM-DD'),  // add 1 day to cover full last day
                    color: '#FF0000',  // Change this to your desired color
                }, true);
            }
        }
    });
</script>
</body>
</html>

